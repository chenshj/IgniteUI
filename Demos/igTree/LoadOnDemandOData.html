<!doctype html>
<!--[if lt IE 7 ]> <html lang="en" class="no-js ie6"> <![endif]-->
<!--[if IE 7 ]>    <html lang="en" class="no-js ie7"> <![endif]-->
<!--[if IE 8 ]>    <html lang="en" class="no-js ie8"> <![endif]-->
<!--[if IE 9 ]>    <html lang="en" class="no-js ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!-->
<html lang="en" class="no-js">
<!--<![endif]-->
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>IgniteUI Samples</title>
    <link href="../content/style.css" rel="stylesheet" type="text/css" />
	
    <script src="../scripts/modernizr.min.js"></script>
	<script src="../scripts/jquery.min.js"></script>
    <script src="../scripts/jquery-ui.min.js"></script>
    <script src="../scripts/demos.js" type="text/javascript"></script>
	<script src="../../js/infragistics.loader.js" type="text/javascript"></script>
    <script>
        $.ig.loader({
            scriptPath: "../../js/",
            cssPath: "../../css/",
            resources: "igTree"
        });
        $.ig.loader(function () {
            var url = 'http://services.odata.org/OData/OData.svc/Categories?$format=json&$callback=?';
            //creates new JSONP data source for OData
            var jsonp = new $.ig.JSONPDataSource({ dataSource: url, responseDataKey: "d" });

            //Load on demand happens automatically using OData, the loadOnDemand option,
            //and properly configured bindings
            $("#tree1").igTree({
                checkboxMode: 'triState',
                dataSource: jsonp,
                dataSourceType: 'remoteUrl',
                responseDataKey: 'd',
                loadOnDemand: true,
                bindings: {
                    textKey: 'Name',
                    valueKey: 'ID',
                    primaryKey: 'ID',
                    childDataProperty: 'Products',
                    bindings: {
                        textKey: 'Name',
                        valueKey: 'ID',
                        primaryKey: 'ID',
                        childDataProperty: 'Supplier',
                        bindings: {
                            textKey: 'Name',
                            valueKey: 'ID'
                        }
                    }
                }
            });
        });

    </script>
</head>
<body>
    <div id="container">
        <header>
            <h1 class="logo">
                <a href="../index.html">
                    <img src="../Content/images/infragistics.png" /></a></h1>
        </header>
        <div id="main" role="main">
            <section class="product">
                <img src="../Content/images/jquery-netadvantage.png" />
                <p>
                    Create the best Web experiences in browsers and devices with our user interface controls designed expressly for jQuery, ASP.NET MVC, HTML 5 and CSS 3. You'll be building on a solid and proven foundation without any plug-ins or extensions, just real world best practices and the most forward-thinking, robust Web technology.</p>
            </section>
            <div class="content clearfix">
                <!-- side nav begins here -->
                <script type="text/javascript">insertNav();</script>
                <!-- side nav ends here -->
                <section class="main-box">
                    <hgroup>
                        <h1>
                            IgniteUI </h1>
                        <h2>
                            Load on demand with OData</h2>
                        <p>
                            Load on demand ensures that only data requested by the user is loaded into the control. This deferred load approach significantly increases the performance of the control by avoiding loading unnecessary data into the control. Enabling load on demand on the igTree control allows the tree to automatically request the filtered data from the service using the OData protocol requiring minimal developer configuration. In this sample, the expansion behavior is customized by setting singleBranchExpand to 'false'.</p>
                    </hgroup>
                    <div class="sampleContainer">
                        <!--igTree target element-->
                        <div id="tree1">
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </div>
</body>
</html>
