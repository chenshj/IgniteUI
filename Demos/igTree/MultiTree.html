<!doctype html>
<!--[if lt IE 7 ]> <html lang="en" class="no-js ie6"> <![endif]-->
<!--[if IE 7 ]>    <html lang="en" class="no-js ie7"> <![endif]-->
<!--[if IE 8 ]>    <html lang="en" class="no-js ie8"> <![endif]-->
<!--[if IE 9 ]>    <html lang="en" class="no-js ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!-->
<html lang="en" class="no-js">
<!--<![endif]-->
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>IgniteUI Samples</title>
    <link href="../content/style.css" rel="stylesheet" type="text/css" />
	
    <script src="../scripts/modernizr.min.js"></script>
	<script src="../scripts/jquery.min.js"></script>
    <script src="../scripts/jquery-ui.min.js"></script>
    <script src="../scripts/demos.js" type="text/javascript"></script>
	<script src="../../js/infragistics.loader.js" type="text/javascript"></script>
    <script>
        $.ig.loader({
            scriptPath: "../../js/",
            cssPath: "../../css/",
            resources: "igTree"
        }); 
        $.ig.loader(function () {

            var data = [{Text:"Computer",Value:"Folder",ImageUrl:"../content/images/igTree/Common/computer.png",Folder:[{Text:"Music",Value:"Folder",ImageUrl:"../content/images/igTree/Common/book.png",Folder:[{Text:"Y.Malmsteen",Value:"Folder",ImageUrl:"../content/images/igTree/Common/book.png",Folder:[{Text:"Y.Malmsteen - Making Love",Value:"File",ImageUrl:"../content/images/igTree/Common/music.png",Folder:""},{Text:"Y.Malmsteen - Rising Force",Value:"File",ImageUrl:"../content/images/igTree/Common/music.png",Folder:""},{Text:"Y.Malmsteen - Fire and Ice",Value:"File",ImageUrl:"../content/images/igTree/Common/music.png",Folder:""}]},{Text:"WhiteSnake",Value:"Folder",ImageUrl:"../content/images/igTree/Common/book.png",Folder:[{Text:"WhiteSnake - Trouble",Value:"File",ImageUrl:"../content/images/igTree/Common/music.png",Folder:""},{Text:"WhiteSnake - Bad Boys",Value:"File",ImageUrl:"../content/images/igTree/Common/music.png",Folder:""},{Text:"WhiteSnake - Is This Love",Value:"File",ImageUrl:"../content/images/igTree/Common/music.png",Folder:""}]},{Text:"AC/DC",Value:"Folder",ImageUrl:"../content/images/igTree/Common/book.png",Folder:[{Text:"AC/DC - ThunderStruck",Value:"File",ImageUrl:"../content/images/igTree/Common/music.png",Folder:""},{Text:"AC/DC - T.N.T.",Value:"File",ImageUrl:"../content/images/igTree/Common/music.png",Folder:""},{Text:"AC/DC - The Jack",Value:"File",ImageUrl:"../content/images/igTree/Common/music.png",Folder:""}]},{Text:"Rock",Value:"Folder",ImageUrl:"../content/images/igTree/Common/book.png",Folder:[{Text:"Bon Jovi - It's My Life",Value:"File",ImageUrl:"../content/images/igTree/Common/music.png",Folder:""}]}]},{Text:"My Documents",Value:"Folder",ImageUrl:"../content/images/igTree/Common/DocumentsFolder.png",Folder:[{Text:"2009",Value:"Folder",ImageUrl:"../content/images/igTree/Common/DocumentsFolder.png",Folder:[{Text:"Month Report",Value:"File",ImageUrl:"../content/images/igTree/Common/Documents.png",Folder:""},{Text:"Year Report",Value:"File",ImageUrl:"../content/images/igTree/Common/Documents.png",Folder:""}]},{Text:"2010",Value:"Folder",ImageUrl:"../content/images/igTree/Common/DocumentsFolder.png",Folder:[{Text:"Month Report",Value:"File",ImageUrl:"../content/images/igTree/Common/Documents.png",Folder:""},{Text:"Year Report",Value:"File",ImageUrl:"../content/images/igTree/Common/Documents.png",Folder:""}]}]},{Text:"Pictures",Value:"Folder",ImageUrl:"../content/images/igTree/Common/coins.png",Folder:[{Text:"BirthDay2009",Value:"Folder",ImageUrl:"../content/images/igTree/Common/coins.png",Folder:[{Text:"Picture1",Value:"File",ImageUrl:"../content/images/igTree/Common/coins_add.png",Folder:""},{Text:"Picture2",Value:"File",ImageUrl:"../content/images/igTree/Common/coins_add.png",Folder:""},{Text:"Picture3",Value:"File",ImageUrl:"../content/images/igTree/Common/coins_add.png",Folder:""},{Text:"Picture4",Value:"File",ImageUrl:"../content/images/igTree/Common/coins_add.png",Folder:""}]},{Text:"BirthDay2010",Value:"Folder",ImageUrl:"../content/images/igTree/Common/coins.png",Folder:[{Text:"Picture1",Value:"File",ImageUrl:"../content/images/igTree/Common/coins_add.png",Folder:""},{Text:"Picture2",Value:"File",ImageUrl:"../content/images/igTree/Common/coins_add.png",Folder:""},{Text:"Picture3",Value:"File",ImageUrl:"../content/images/igTree/Common/coins_add.png",Folder:""}]}]},{Text:"Network",Value:"Folder",ImageUrl:"../content/images/igTree/Common/door.png",Folder:[{Text:"Archive",Value:"Folder",ImageUrl:"../content/images/igTree/Common/door_in.png",Folder:""},{Text:"BackUp",Value:"Folder",ImageUrl:"../content/images/igTree/Common/door_in.png",Folder:""},{Text:"FTP",Value:"Folder",ImageUrl:"../content/images/igTree/Common/door_in.png",Folder:""}]},{Text:"Deleted",Value:"Folder",ImageUrl:"../content/images/igTree/Common/bin_empty.png",Folder:""}]}];

            $("#firstTree").igTree({
                checkboxMode: 'triState',
                singleBranchExpand: true,
                dataSource: data,
                dataSourceType: 'json',
                initialExpandDepth: 0,
                pathSeparator: '.',
                bindings: {
                    textKey: 'Text',
                    valueKey: 'Value',
                    imageUrlKey: 'ImageUrl',
                    childDataProperty: 'Folder'
                },
				dragAndDrop: true,
				dragAndDropSettings: {
					allowDrop: true,
					customDropValidation: function (element) {
						// Validates the drop target
						var valid = true,
							droppableNode = $(this);
							
						if (droppableNode.is('a') && droppableNode.closest('li[data-role=node]').attr('data-value') === 'File') {
							valid = false;
						}

						return valid;
					}
				}
            });
			
			$("#secondTree").igTree({
                checkboxMode: 'triState',
                singleBranchExpand: true,
                dataSource: data,
                dataSourceType: 'json',
                initialExpandDepth: 0,
                pathSeparator: '.',
                bindings: {
                    textKey: 'Text',
                    valueKey: 'Value',
                    imageUrlKey: 'ImageUrl',
                    childDataProperty: 'Folder'
                },
				dragAndDrop: true,
				dragAndDropSettings: {
					allowDrop: true,
					customDropValidation: function (element) {
						// Validates the drop target
						var valid = true,
							droppableNode = $(this);
							
						if (droppableNode.is('a') && droppableNode.closest('li[data-role=node]').attr('data-value') === 'File') {
							valid = false;
						}

						return valid;
					}
				}
            });
        });        
    </script>
	 <style type="text/css">
        .containerTree
        {
	        overflow: auto;
	        width: 100%;
        }
    
        #left 
		{
	        display: inline;
	        float: left;
        }

        #right 
		{
	        float: right;
	        width: 330px;
        }
        
        #firstTree, #secondTree 
        {
            font-size: 14px;
        }
    </style>
</head>
<body>
    <div id="container">
        <header>
            <h1 class="logo">
                <a href="../index.html">
                    <img src="../Content/images/infragistics.png" /></a></h1>
        </header>
        <div id="main" role="main">
            <section class="product">
                <img src="../Content/images/jquery-netadvantage.png" />
                <p>
                    Create the best Web experiences in browsers and devices with our user interface controls designed expressly for jQuery, ASP.NET MVC, HTML 5 and CSS 3. You'll be building on a solid and proven foundation without any plug-ins or extensions, just real world best practices and the most forward-thinking, robust Web technology.</p>
            </section>
            <div class="content clearfix">
                <!-- side nav begins here -->
                <script type="text/javascript">insertNav();</script>
                <!-- side nav ends here -->
                <section class="main-box">
                    <hgroup>
                        <h1>
                            IgniteUI </h1>
                        <h2>
                            Multi Trees</h2>
                        <p>
                            This sample demonstrates how to use drag-and-drop in multi-tree scenario which represents a simple file and folder structure. There is custom drop validation function which validates the dragging node when it is dropped over a node. For instance, you are not allowed to drop file over file and folder over file.</p>
                    </hgroup>
                    <div class="sampleContainer">
						<div class="containerTree">
	                        <div id="left">
		                        <!--igTree target element-->
								<div id="firstTree"></div>
	                        </div>
	                        <div id="right">
                                <!--igTree target element-->
								<div id="secondTree"></div>				
							</div>
						</div>
                    </div>
                </section>
            </div>
        </div>
    </div>
</body>
</html>
